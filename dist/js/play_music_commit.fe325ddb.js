(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["play_music_commit"],{"015b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"margin"},[s("div",{staticClass:"song_pic"},[s("img",{staticClass:"center",attrs:{src:t.song_pic}})]),s("div",{staticClass:"song_info"},[s("span",{staticClass:"song_name"},[t._v(" "+t._s(t.song_name)),s("br"),s("span",{staticClass:"singer"},[t._v(" "+t._s(t.singer)+" ")])])]),s("div",{staticClass:"back_icon"})]),s("article",{staticClass:"margin"},[t._m(0),s("ul",{staticClass:"commit_area"},t._l(t.commit_info,(function(e){return s("li",{key:e.commentId,staticClass:"users"},[s("div",{staticClass:"user_info"},[s("span",{staticClass:"user_info_left"},[s("span",{staticClass:"user_pic"},[s("img",{attrs:{src:e.user.avatarUrl}})]),s("span",{staticClass:"username_time"},[s("span",{staticClass:"username"},[t._v(" "+t._s(e.user.nickname)+" ")]),s("br"),s("span",{staticClass:"user_time"},[t._v(" "+t._s(t._f("showTime")(e.time))+" ")])])]),s("span",{staticClass:"zan"},[s("span",{staticClass:"zan_num center"},[t._v(t._s(e.likedCount)+" ")]),t._v(" "),s("svg",{attrs:{t:"1624936327231",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2462"}},[s("path",{attrs:{d:"M298.666667 853.333333h-85.333334c-23.514074 0-42.666667-19.152593-42.666666-42.666666V440.888889c0-23.514074 19.152593-42.666667 42.666666-42.666667h85.333334c23.514074 0 42.666667 19.152593 42.666666 42.666667v369.777778c0 23.514074-19.152593 42.666667-42.666666 42.666666z m-85.333334-42.666666h85.333334V440.888889c0 0.094815 0 0-0.094815 0H213.333333v369.777778z","p-id":"2463",fill:"#8a8a8a"}}),s("path",{attrs:{d:"M612.02963 853.333333h-270.222223c-11.757037 0-21.333333-9.576296-21.333333-21.333333v-403.911111c0-11.757037 9.576296-21.333333 21.333333-21.333333 17.825185 0 37.831111-14.601481 59.448889-43.330371C422.874074 334.696296 442.405926 296.77037 459.662222 263.395556c29.866667-57.837037 47.881481-92.728889 76.610371-92.728889 84.574815 0 97.185185 51.958519 97.185185 82.962963 0 41.339259-24.462222 98.133333-41.813334 133.214814h162.133334c54.897778 0 99.555556 44.657778 99.555555 99.555556v61.62963c0 60.302222-9.860741 113.303704-29.202963 157.582222-16.592593 37.831111-40.201481 69.404444-70.068148 93.961481-48.545185 39.632593-106.856296 53.76-142.032592 53.76zM363.140741 810.666667h248.888889c6.257778 0 62.577778-1.232593 114.915555-44.183704 55.561481-45.511111 83.721481-118.992593 83.721482-218.453333v-61.62963c0-31.383704-25.505185-56.888889-56.888889-56.888889H556.088889c-7.585185 0-14.696296-4.077037-18.488889-10.714074s-3.792593-14.696296 0-21.333333c14.791111-25.505185 53.096296-101.167407 53.096296-143.834074 0-19.152593-4.077037-39.537778-51.674074-40.296297-1.991111 1.801481-6.731852 6.826667-14.885926 20.195556-8.059259 13.274074-17.066667 30.814815-26.642963 49.398518-34.228148 66.37037-75.946667 147.152593-134.352592 163.460741V810.666667z","p-id":"2464",fill:"#8a8a8a"}})])])]),s("div",{staticClass:"user_commit"},[t._v(" "+t._s(e.content)+" ")])])})),0)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commit_title"},[s("span",[t._v(" 评论区 ")]),s("span",{staticClass:"right"},[t._v(" 推荐 ")])])}],n=s("1da1"),r=(s("96cf"),s("acd9")),o={name:"commit",created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,t.singer=t.$route.params.singer,t.song_pic=t.$route.params.song_pic,t.song_name=t.$route.params.song_name,e.next=6,Object(r["b"])(t.id);case 6:t.commit_info=e.sent.data.data,Date.prototype.toLocaleString=function(){return this.getFullYear()+"年"+(this.getMonth()+1)+"月"+this.getDate()+"日 "},console.log(t.commit_info);case 9:case"end":return e.stop()}}),e)})))()},data:function(){return{id:"",song_name:"",song_pic:"",singer:"1232",commit_info:[]}},methods:{},filters:{showTime:function(t){var e=new Date(t),s=e.toLocaleString();return s}}},c=o,l=(s("8f4c"),s("2877")),u=Object(l["a"])(c,a,i,!1,null,"82079e26",null);e["default"]=u.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var a=s("1d80"),i=s("5899"),n="["+i+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(t){return function(e){var s=String(a(e));return 1&t&&(s=s.replace(r,"")),2&t&&(s=s.replace(o,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5a72":function(t,e,s){"use strict";s("7020")},"66d4":function(t,e,s){},7020:function(t,e,s){},7156:function(t,e,s){var a=s("861d"),i=s("d2bb");t.exports=function(t,e,s){var n,r;return i&&"function"==typeof(n=e.constructor)&&n!==s&&a(r=n.prototype)&&r!==s.prototype&&i(t,r),t}},"8f4c":function(t,e,s){"use strict";s("66d4")},9129:function(t,e,s){var a=s("23e7");a({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},a9e3:function(t,e,s){"use strict";var a=s("83ab"),i=s("da84"),n=s("94ca"),r=s("6eeb"),o=s("5135"),c=s("c6b6"),l=s("7156"),u=s("c04e"),m=s("d039"),f=s("7c73"),p=s("241c").f,d=s("06cf").f,_=s("9bf2").f,g=s("58a8").trim,h="Number",v=i[h],C=v.prototype,w=c(f(C))==h,y=function(t){var e,s,a,i,n,r,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(s=l.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+l}for(n=l.slice(2),r=n.length,o=0;o<r;o++)if(c=n.charCodeAt(o),c<48||c>i)return NaN;return parseInt(n,a)}return+l};if(n(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var b,N=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof N&&(w?m((function(){C.valueOf.call(s)})):c(s)!=h)?l(new v(y(e)),s,N):y(e)},$=a?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;$.length>I;I++)o(v,b=$[I])&&!o(N,b)&&_(N,b,d(v,b));N.prototype=C,C.constructor=N,r(i,h,N)}},b0c0:function(t,e,s){var a=s("83ab"),i=s("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,c="name";a&&!(c in n)&&i(n,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},f366:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("audio",{ref:"audio",staticClass:"audio",attrs:{autoplay:""},on:{ended:t.ended,durationchange:t.getDuration,timeupdate:t.currentTime}},[s("source",{attrs:{src:""}})]),s("article",[s("div",{staticClass:"song_turn"},[s("div",{staticClass:"black_panel"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.pic,expression:"pic"}],ref:"img"})])])]),s("div",{staticClass:"songs_info"},[s("span",{staticClass:"song_name"},[t._v(" "+t._s(t.name)+"  - "),s("span",{staticClass:"singer_name"},[t._v(" "+t._s(t.singer))])])]),s("div",{staticClass:"Player"},[s("div",{staticClass:"icons"},[!1===t.animation_play_state_flag?s("van-icon",{staticClass:"van-icon",attrs:{name:"play-circle-o",size:"8vw"},on:{click:t.pause}}):t._e(),!0===t.animation_play_state_flag?s("van-icon",{attrs:{name:"pause-circle-o",size:"8vw"},on:{click:t.pause}}):t._e()],1),s("div",{staticClass:"progress"},[s("van-progress",{staticClass:"van-progress",attrs:{percentage:t.percent,"stroke-width":"2"}})],1),s("span",{staticClass:"count-down"},[t._v(" "+t._s(t._f("show_mm")(t.mm))+":"+t._s(t._f("show_ss")(t.ss))+" ")])]),s("footer",{ref:"footer",on:{click:t.push_commit}},[s("div",{staticClass:"line"}),s("svg",{staticClass:"icon",attrs:{t:"1624866291586",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2402"}},[s("path",{attrs:{d:"M896 544H193.3312a32 32 0 1 1 0-64H896a32 32 0 0 1 0 64z",fill:"#2C2C2C","p-id":"2403"}}),s("path",{attrs:{d:"M426.5984 798.72a31.8976 31.8976 0 0 1-22.6304-9.3696L126.8736 512 403.968 234.9056a32 32 0 0 1 45.2608 45.2608L217.3952 512l231.8336 231.8336A32 32 0 0 1 426.5984 798.72z",fill:"#2C2C2C","p-id":"2404"}})]),s("div",{ref:"commit",staticClass:"commit"},[t._v(" 精彩评论 ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.ChildView,expression:"ChildView"}],ref:"child_view",staticClass:"child_view"},[s("router-view")],1)])},i=[],n=s("1da1"),r=(s("96cf"),s("b0c0"),s("9129"),s("a9e3"),s("acd9")),o={name:"play_music",created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i,n,o,c,l,u,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.$route.params.id,e.next=3,Object(r["a"])(s);case 3:return a=e.sent.data.data,console.log(a),e.next=7,Object(r["f"])(s);case 7:i=e.sent.data.data,null!=a?(n=a.songs[0].al.picUrl,o=a.songs[0].ar[0].name,c=i.url,l=t.$route.params.name,u={id:s,pic:n,singer:o,url:c,name:l},window.sessionStorage.setItem("data",JSON.stringify(u)),m=JSON.parse(window.sessionStorage.getItem("data")),console.log(m),t.$refs.audio.src=m.url,t.id=m.id,t.pic=m.pic,t.singer=m.singer,t.name=m.name):(f=JSON.parse(window.sessionStorage.getItem("data")),console.log(f),t.$refs.audio.src=f.url,t.id=f.id,t.pic=f.pic,t.singer=f.singer,t.name=f.name,t.pause());case 9:case"end":return e.stop()}}),e)})))()},data:function(){return{id:"",name:"",pic:"",singer:"",animation_play_state_flag:!0,time:0,percent:0,end:!1,ChildView:!1,commit_flag:!1,ss:0,mm:0}},filters:{show_ss:function(t){return t<10?"0"+t:t},show_mm:function(t){return t<10?"0"+t:t}},methods:{getDuration:function(){var t=1e3*this.$refs.audio.duration;if(Number.isNaN(t))this.time=0;else{this.time=t,console.log(t);var e=parseInt(this.time/1e3%60);console.log(e);var s=parseInt(this.time/1e3/60);this.ss=e,this.mm=s}},pause:function(){!0===this.animation_play_state_flag?(this.$refs.img.style.animationPlayState="paused",this.animation_play_state_flag=!1,this.$refs.audio.pause()):(this.$refs.img.style.animationPlayState="running",this.animation_play_state_flag=!0,this.$refs.audio.play())},ended:function(){this.pause()},currentTime:function(){var t=document.getElementsByClassName("audio"),e=parseInt(t[0].currentTime/(this.time/1e3)*100);Number.isNaN(e)?this.percent=0:this.percent=parseInt(t[0].currentTime/(this.time/1e3)*100)},push_commit:function(){var t=this;this.commit_flag=!this.commit_flag,1==this.commit_flag?(this.$router.push({name:"Commit",params:{id:this.id,song_name:this.name,song_pic:this.pic,singer:this.singer}}),this.ChildView=!0,setTimeout((function(){t.$refs.footer.style.top="0",t.$refs.footer.style.background="#ffffff",t.$refs.footer.style.position="fixed",t.$refs.commit.style.color="#0f1111",t.$refs.child_view.style.top="58px"}),200)):(this.$refs.footer.style.top="90vh",this.$refs.footer.style.background="-webkit-linear-gradient(top,#22272b,#1c1d1e)",this.$refs.commit.style.color="#898b8d",this.$refs.child_view.style.top="100vh",setTimeout((function(){t.$router.push("/Play_music"),t.ChildView=!1}),1e3))}}},c=o,l=(s("5a72"),s("2877")),u=Object(l["a"])(c,a,i,!1,null,"667fceee",null);e["default"]=u.exports}}]);
//# sourceMappingURL=play_music_commit.fe325ddb.js.map